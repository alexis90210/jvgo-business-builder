
var data = {};
function selectDelai(e, o) {
  (data.Delai = o), suivant(e), console.log(data);
}
function annulDelai(e) {
  (data.Delai = ""), arriere(e), console.log(data);
}
function selectNomEntreprise(e) {
  (data.NomEntreprise = document.querySelector("#NomEntreprise")?.value),
    suivant(e),
    console.log(data);
}
function annulNomEntreprise(e) {
  (data.NomEntreprise = ""), arriere(e), console.log(data);
}
function selectInfo( page ) {
	const Madame =  document.querySelector("#radioMadame")?.checked 
	const Monsieur =  document.querySelector("#radioMonsieur")?.checked 
	
	data.Civilite = Monsieur ? "Monsieur" : ( Madame ? "Madame" : "" )
	data.Nom = document.querySelector("#Nom")?.value
	data.Prenom = document.querySelector("#Prenom")?.value
	data.Email = document.querySelector("#Email")?.value
	data.Mobile = document.querySelector("#Mobile")?.value
	// by default
	data.Delai = ""

	if ( !( Madame == true || Monsieur == true ) ) {
		
		document.querySelector("#error-display").classList.remove('d-none')
	    		
		document.querySelector('#error-display').innerText = "Veuillez selectionner la civilitÃ©"
		document.querySelector('#error-display').scrollIntoView({ behavior: 'smooth', block: 'end' })
		setTimeout( () => {
			document.querySelector("#error-display").classList.add('d-none')
		},4000)
		return
	} 
	if ( !data.Nom ) {
		document.querySelector("#error-display").classList.remove('d-none')
		
		document.querySelector('#error-display').innerText = "Veuillez renseigner le champ Nom"
		document.querySelector('#error-display').scrollIntoView({ behavior: 'smooth', block: 'end' })
		setTimeout( () => {
			document.querySelector("#error-display").classList.add('d-none')
		},4000)
		return
	}
	if ( !data.Prenom ) {
		document.querySelector("#error-display").classList.remove('d-none')
		document.querySelector('#error-display').innerText = "Veuillez renseigner le champ Prenom"
		document.querySelector('#error-display').scrollIntoView({ behavior: 'smooth', block: 'end' })
		setTimeout( () => {
			document.querySelector("#error-display").classList.add('d-none')
		},4000)
		return
	} 
	if ( !data.Email ) {
		document.querySelector("#error-display").classList.remove('d-none')
		
		document.querySelector('#error-display').innerText = "Veuillez renseigner le champ Email"
		document.querySelector('#error-display').scrollIntoView({ behavior: 'smooth', block: 'end' })
		setTimeout( () => {
			document.querySelector("#error-display").classList.add('d-none')
		},4000)
		return
	} 

	if ( !data.Mobile ) {
		document.querySelector("#error-display").classList.remove('d-none')
		
		document.querySelector('#error-display').innerText = "Veuillez renseigner le champ Mobile"
		document.querySelector('#error-display').scrollIntoView({ behavior: 'smooth', block: 'end' })
		setTimeout( () => {
			document.querySelector("#error-display").classList.add('d-none')
		},4000)
		return
	} 
	
	suivant(page)
	console.log(data)
}

function saveInfo( page ) {

	suivant(page )

	axios.post('/save/creation-entreprise', {
		...data
	})
	.then(function (response) {
		console.log( response.data );
		const api = response.data
		document.querySelector('#loading-indicator').classList.add('d-none')
		
		if (api.code == "success" ) {
			document.querySelector('#success-process').classList.remove('d-none')
		} else {
		
			document.querySelector('#error-display').innerText = api.message
			document.querySelector('#error-display').scrollIntoView({ behavior: 'smooth', block: 'end' })
			setTimeout( () => {
				document.querySelector("#error-display").classList.add('d-none')
			},8000)
		}
	})
	.catch(function (error) {
		console.log(error);
	});
}
function annulInfo(e) {
  (data.Civilite = ""),
    (data.Nom = ""),
    (data.Prenom = ""),
    (data.Email = ""),
    arriere(e),
    console.log(data);
}
(data.TypeEntreprise = document.querySelector("#TypeEntreprise")?.innerText),
  console.log(data);

